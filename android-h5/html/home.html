<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,aItemress=no">
    <title>AUI快速完成布局</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <link rel="stylesheet" type="text/css" href="../css/iconfont/iconfont.css" />
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
</head>
<body>
    <header class="aui-bar aui-bar-nav">
        <a class="aui-pull-left aui-btn" onclick="homeEvt()">
            <span class="aui-iconfont aui-icon-share"></span>
        </a>
        <div class="aui-title" style="left:2rem; right: 0.5rem;">
            <div class="aui-searchbar" id="search" style="background-color: #e74c3c;">
                <div class="aui-searchbar-input aui-border-radius">
                    <i class="aui-iconfont aui-icon-search"></i>
                    <input type="search" placeholder="请输入搜索内容" id="search-input">
                    <div class="aui-searchbar-clear-btn">
                        <i class="aui-iconfont aui-icon-close"></i>
                    </div>
                </div>
                <div class="aui-searchbar-btn" tapmode style="color:#fff">取消</div>
            </div>
        </div>
    </header>

    <section class="aui-content">
        <div onclick="testWin()" class="aui-card-list aui-border-t aui-border-b">
            <div class="aui-info aui-padded-l-15 aui-padded-r-15">
                <div class="aui-info-item aui-font-size-12">
                    <img src="../image/demo1.png" style="width:1rem" class="aui-img-round" />
                    <span class="aui-margin-l-5">Sim Chen &nbsp; &nbsp;<span>朱自清 - <<散文集>></span></span>
                </div>
                <div class="aui-info-item">
                    <i class="aui-iconfont aui-icon-more"></i>
                </div>
            </div>
            <div class="aui-card-list-content-padded aui-padded-t-0 aui-padded-b-0" style="color:#7b7b7b;">
                如果谈及中国在技术领域的短片！人器，就是其代表产品，它可是为电子信息产品的心脏,是集成电路产品的终端级产品。
            </div>
            <div class="aui-card-list-footer aui-font-size-12" style="color:#999;">
                <div>
                    <span>2048 赞</span> - <span>295 评论</span> - <span>2018-09-11 01:25:55</span>
                </div>
            </div>
        </div>
        <div class="aui-card-list aui-border-t aui-border-b">
            <div class="aui-info aui-padded-l-15 aui-padded-r-15">
                <div class="aui-info-item aui-font-size-12">
                    <img src="../image/demo1.png" style="width:1rem" class="aui-img-round" />
                    <span class="aui-margin-l-5">Sim Chen 发表的热门文章</span>
                </div>
                <div class="aui-info-item">
                    <i class="aui-iconfont aui-icon-more"></i>
                </div>
            </div>
            <div class="aui-card-list-content-padded aui-padded-t-0 aui-padded-b-0" style="color:#7b7b7b;">
                如果谈及中国在技术领域的短板，那么大家可能想到的是发动机，其实还有一样：集成电路产品的终端级产品。
            </div>
            <div class="aui-card-list-footer aui-font-size-12" style="color:#999;">
                <div>
                    <span>2048 赞</span> - <span>295 评论</span> - <span>去往栏目</span>
                </div>
            </div>
        </div>
        <div class="aui-card-list aui-border-t aui-border-b">
            <div class="aui-info aui-padded-l-15 aui-padded-r-15">
                <div class="aui-info-item aui-font-size-12">
                    <img src="../image/demo1.png" style="width:1rem" class="aui-img-round" />
                    <span class="aui-margin-l-5">Sim Chen 发表的热门文章</span>
                </div>
                <div class="aui-info-item">
                    <i class="aui-iconfont aui-icon-more"></i>
                </div>
            </div>
            <div class="aui-card-list-content-padded aui-padded-t-0 aui-padded-b-0" style="color:#7b7b7b;">
                如果谈及中国在技术领域的短板，那么大家可能想到的是发动机，其实还有一样：集成电路产品的终端级产品。
            </div>
            <div class="aui-card-list-footer aui-font-size-12" style="color:#999;">
                <div>
                    <span>2048 赞</span> - <span>295 评论</span> - <span>去往栏目</span>
                </div>
            </div>
        </div>
        <div class="aui-card-list aui-border-t aui-border-b">
            <div class="aui-info aui-padded-l-15 aui-padded-r-15">
                <div class="aui-info-item aui-font-size-12">
                    <img src="../image/demo1.png" style="width:1rem" class="aui-img-round" />
                    <span class="aui-margin-l-5">Sim Chen 发表的热门文章</span>
                </div>
                <div class="aui-info-item">
                    <i class="aui-iconfont aui-icon-more"></i>
                </div>
            </div>
            <div class="aui-card-list-content-padded aui-padded-t-0 aui-padded-b-0" style="color:#7b7b7b;">
                如果谈及中国在技术领域的短板，那么大家可能想到的是发动机，其实还有一样：集成电路产品的终端级产品。
            </div>
            <div class="aui-card-list-footer aui-font-size-12" style="color:#999;">
                <div>
                    <span>2048 赞</span> - <span>295 评论</span> - <span>去往栏目</span>
                </div>
            </div>
        </div>
        <div class="aui-card-list aui-border-t aui-border-b">
            <div class="aui-info aui-padded-l-15 aui-padded-r-15">
                <div class="aui-info-item aui-font-size-12">
                    <img src="../image/demo1.png" style="width:1rem" class="aui-img-round" />
                    <span class="aui-margin-l-5">Sim Chen 发表的热门文章</span>
                </div>
                <div class="aui-info-item">
                    <i class="aui-iconfont aui-icon-more"></i>
                </div>
            </div>
            <div class="aui-card-list-content-padded aui-padded-t-0 aui-padded-b-0" style="color:#7b7b7b;">
                如果谈及中国在技术领域的短板，那么大家可能想到的是发动机，其实还有一样：集成电路产品的终端级产品。
            </div>
            <div class="aui-card-list-footer aui-font-size-12" style="color:#999;">
                <div>
                    <span>2048 赞</span> - <span>295 评论</span> - <span>去往栏目</span>
                </div>
            </div>
        </div>
        <div class="aui-card-list aui-border-t aui-border-b">
            <div class="aui-info aui-padded-l-15 aui-padded-r-15">
                <div class="aui-info-item aui-font-size-12">
                    <img src="../image/demo1.png" style="width:1rem" class="aui-img-round" />
                    <span class="aui-margin-l-5">Sim Chen 发表的热门文章</span>
                </div>
                <div class="aui-info-item">
                    <i class="aui-iconfont aui-icon-more"></i>
                </div>
            </div>
            <div class="aui-card-list-content-padded aui-padded-t-0 aui-padded-b-0" style="color:#7b7b7b;">
                如果谈及中国在技术领域的短板，那么大家可能想到的是发动机，其实还有一样：集成电路产品的终端级产品。
            </div>
            <div class="aui-card-list-footer aui-font-size-12" style="color:#999;">
                <div>
                    <span>2048 赞</span> - <span>295 评论</span> - <span>去往栏目</span>
                </div>
            </div>
        </div>
    </section>
</body>
<script type="text/javascript" src="../script/api.js" ></script>
<script type="text/javascript">
    apiready = function(){
        api.parseTapmode();
        initSearch();
    }
    function homeEvt(){
        //测试通知
        api.notification({
            light: true,
            // vibrate:[a,b],
            // sound:sound,
            notify:{
                title:'你有新消息',           // 标题，默认值为应用名称，只Android有效
                content:'这是要通知的内容,哈哈哈',        // 内容，默认值为'有新消息'
                extra:'',              // 传递给通知的数据，在通知被点击后，该数据将通过监听函数回调给网页
                updateCurrent: true    // 是否覆盖更新已有的通知，取值范围true|false。只Android有效
            }
        });
        // 是否关闭通知
        // api.cancelNotification({
        //     id: cance
        // });
    }

    function initSearch(){
        var searchBar = document.querySelector(".aui-searchbar");
        var searchBarInput = document.querySelector(".aui-searchbar input");
        var searchBarBtn = document.querySelector(".aui-searchbar .aui-searchbar-btn");
        var searchBarClearBtn = document.querySelector(".aui-searchbar .aui-searchbar-clear-btn");
        if(searchBar){
            searchBarInput.onclick = function(){
                searchBarBtn.style.marginRight = 0;
            }
            searchBarInput.oninput = function(){
                if(this.value.length){
                    searchBarClearBtn.style.display = 'block';
                    searchBarBtn.classList.add("aui-text-info");
                    searchBarBtn.textContent = "搜索";
                }else{
                    searchBarClearBtn.style.display = 'none';
                    searchBarBtn.classList.remove("aui-text-info");
                    searchBarBtn.textContent = "取消";
                }
            }
        }
        searchBarClearBtn.onclick = function(){
            this.style.display = 'none';
            searchBarInput.value = '';
            searchBarBtn.classList.remove("aui-text-info");
            searchBarBtn.textContent = "取消";
        }
        searchBarBtn.onclick = function(){
            var keywords = searchBarInput.value;
            if(keywords.length){
                searchBarInput.blur();
                console.log(keywords);
            }else{
                this.style.marginRight = "-"+this.offsetWidth+"px";
                searchBarInput.value = '';
                searchBarInput.blur();
            }
        }
    }

    function testWin(){
        api.openWin({
            name: 'info',
            url: './juzi/info.html',
            pageParam: {
                name: 'info'
            }
        });

    }
</script>
</html>
